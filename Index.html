<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Study Web</title>
<link rel="stylesheet" href="assets/style.css">
</head>
<body>
<h1>ðŸ“˜ My Study Web</h1>
<div id="menu"></div>

<script>
const baseURL = "https://hdhdhsjsjsjdjsjshdjdhdjdjdjdu.netlify.app/";

fetch('data.json')
  .then(res => res.json())
  .then(data => {
    const menu = document.getElementById('menu');
    for (const std in data) {
      const stdDiv = document.createElement('div');
      stdDiv.className = 'std-card';
      stdDiv.innerHTML = `<h2>${std}</h2>`;
      const subjList = document.createElement('div');
      subjList.className = 'subjects';

      for (const subject in data[std]) {
        const subjectDiv = document.createElement('div');
        subjectDiv.innerHTML = `<h3>${subject}</h3>`;
        data[std][subject].forEach(test => {
          const link = document.createElement('a');
          // Construct full Netlify URL
          const fileName = test.path.split('/').pop().replace('.html','');
          const folder = test.path.split('/')[0];
          link.href = `${baseURL}${folder}/${fileName}`;
          link.textContent = test.label;
          link.target = "_blank";
          subjectDiv.appendChild(link);
        });
        subjList.appendChild(subjectDiv);
      }
      stdDiv.appendChild(subjList);
      menu.appendChild(stdDiv);
    }
  })
  .catch(err => console.error(err));
</script>
</body>
</html>